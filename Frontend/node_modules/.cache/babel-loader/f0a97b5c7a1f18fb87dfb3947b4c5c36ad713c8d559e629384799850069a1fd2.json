{"ast":null,"code":"var _jsxFileName = \"/Users/typham/Documents/GitHub/WebApp_Project_FrontEnd/Frontend/src/components/MangeProduct.js\",\n  _s = $RefreshSig$();\n// components/ManageProduct.js\n\nimport React, { useState, useEffect } from 'react';\nimport ProductForm from './ProductForm1'; // Make sure this is the correct path and file name\nimport Header from './Header';\nimport './';\nimport { getAllProducts, createProduct, updateProductByName, deleteProductByName } from '../services/productService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ManageProduct() {\n  _s();\n  const [action, setAction] = useState(null);\n  const [products, setProducts] = useState([]); // State to store products\n\n  useEffect(() => {\n    if (action === 'view') {\n      // Fetch products when the 'view' action is selected\n      fetchProducts();\n    }\n  }, [action]);\n  const fetchProducts = async () => {\n    try {\n      const fetchedProducts = await getAllProducts();\n      setProducts(fetchedProducts); // Update state with fetched products\n    } catch (error) {\n      console.error('Failed to fetch products:', error);\n      // Handle error state in the UI\n    }\n  };\n\n  const handleDeleteProduct = async name => {\n    try {\n      await deleteProductByName(name);\n      // Remove deleted product from state\n      setProducts(products.filter(product => product.name !== name));\n    } catch (error) {\n      console.error('Failed to delete product:', error);\n      // Handle error state in the UI\n    }\n  };\n\n  // Function to handle action change\n  const handleActionChange = newAction => {\n    setAction(newAction);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => handleActionChange('insert'),\n      children: \"Insert Product\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => handleActionChange('update'),\n      children: \"Update Product\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => handleActionChange('view'),\n      children: \"View Products\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => handleActionChange('delete'),\n      children: \"Delete Product\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), (action === 'insert' || action === 'update') && /*#__PURE__*/_jsxDEV(ProductForm, {\n      action: action,\n      onSubmit: action === 'insert' ? createProduct : updateProductByName,\n      products: products,\n      setProducts: setProducts\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }, this), action === 'view' && products.map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: product.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: product.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"$\", product.price]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleDeleteProduct(product.name),\n        children: \"Delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this)]\n    }, product.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }, this)), action === 'delete' && /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: e => {\n        e.preventDefault();\n        handleDeleteProduct(e.target.elements.productName.value);\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"productName\",\n        type: \"text\",\n        placeholder: \"Enter product name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Delete Product\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n}\n_s(ManageProduct, \"A+U47UNXyyH83eRa8DryLZ94XLc=\");\n_c = ManageProduct;\nexport default ManageProduct;\nvar _c;\n$RefreshReg$(_c, \"ManageProduct\");","map":{"version":3,"names":["React","useState","useEffect","ProductForm","Header","getAllProducts","createProduct","updateProductByName","deleteProductByName","jsxDEV","_jsxDEV","ManageProduct","_s","action","setAction","products","setProducts","fetchProducts","fetchedProducts","error","console","handleDeleteProduct","name","filter","product","handleActionChange","newAction","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onSubmit","map","description","price","id","e","preventDefault","target","elements","productName","value","type","placeholder","_c","$RefreshReg$"],"sources":["/Users/typham/Documents/GitHub/WebApp_Project_FrontEnd/Frontend/src/components/MangeProduct.js"],"sourcesContent":["// components/ManageProduct.js\n\nimport React, { useState, useEffect } from 'react';\nimport ProductForm from './ProductForm1'; // Make sure this is the correct path and file name\nimport Header from './Header';\nimport './'\n\nimport {\n  getAllProducts,\n  createProduct,\n  updateProductByName,\n  deleteProductByName\n} from '../services/productService';\n\nfunction ManageProduct() {\n  const [action, setAction] = useState(null);\n  const [products, setProducts] = useState([]); // State to store products\n\n  useEffect(() => {\n    if (action === 'view') {\n      // Fetch products when the 'view' action is selected\n      fetchProducts();\n    }\n  }, [action]);\n\n  const fetchProducts = async () => {\n    try {\n      const fetchedProducts = await getAllProducts();\n      setProducts(fetchedProducts); // Update state with fetched products\n    } catch (error) {\n      console.error('Failed to fetch products:', error);\n      // Handle error state in the UI\n    }\n  };\n\n  const handleDeleteProduct = async (name) => {\n    try {\n      await deleteProductByName(name);\n      // Remove deleted product from state\n      setProducts(products.filter(product => product.name !== name));\n    } catch (error) {\n      console.error('Failed to delete product:', error);\n      // Handle error state in the UI\n    }\n  };\n\n  // Function to handle action change\n  const handleActionChange = (newAction) => {\n    setAction(newAction);\n  };\n\n  return (\n    <div>\n      <Header></Header>\n      <button onClick={() => handleActionChange('insert')}>Insert Product</button>\n      <button onClick={() => handleActionChange('update')}>Update Product</button>\n      <button onClick={() => handleActionChange('view')}>View Products</button>\n      <button onClick={() => handleActionChange('delete')}>Delete Product</button>\n\n      {/* Render the form for insert or update */}\n      {(action === 'insert' || action === 'update') && (\n        <ProductForm\n          action={action}\n          onSubmit={action === 'insert' ? createProduct : updateProductByName}\n          products={products}\n          setProducts={setProducts}\n        />\n      )}\n\n      {/* Render the list of products for view */}\n      {action === 'view' && products.map((product) => (\n        <div key={product.id}>\n          <p>{product.name}</p>\n          <p>{product.description}</p>\n          <p>${product.price}</p>\n          <button onClick={() => handleDeleteProduct(product.name)}>Delete</button>\n        </div>\n      ))}\n\n      {/* If the delete action is chosen, provide a way to input the name of the product to delete */}\n      {action === 'delete' && (\n        <form onSubmit={(e) => {\n          e.preventDefault();\n          handleDeleteProduct(e.target.elements.productName.value);\n        }}>\n          <input name=\"productName\" type=\"text\" placeholder=\"Enter product name\" />\n          <button type=\"submit\">Delete Product</button>\n        </form>\n      )}\n    </div>\n  );\n}\n\nexport default ManageProduct;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}